/*
  doormat - http://jh3y.github.io/doormat
  @license MIT

  jh3y (c) 2015.
 */
(function(){var e,n;n={CLASS:"doormat",PANEL_CLASS:"doormat__panel",CURRENT_CLASS:"is--current"},e=window.doormat=function(r){var t,l;if(!r)throw Error("doormat: Must define an element");return e=this,e.el=r,e.el.className+=" "+n.CLASS,e.panels=e.el.children,t=function(){var r,t,l;for(l=0,r=0;r<e.panels.length;)t=e.panels[r],t.style.minHeight=window.innerHeight+"px",-1===t.className.indexOf(n.PANEL_CLASS)&&(t.className+=" "+n.PANEL_CLASS),t.DOORMAT_HEIGHT=t.offsetHeight,t.DOORMAT_POS=l,l+=t.offsetHeight,r++;return document.body.style.height=l+"px"},t(),e.current=e.panels[0],e.current.className+=" "+n.CURRENT_CLASS,l=function(r){var t;return t=e.current,t.className=t.className.replace(n.CURRENT_CLASS,""),t.style.top="next"===r?-t.DOORMAT_HEIGHT+"px":0,e.current=t[r+"ElementSibling"],e.current.className+=" "+n.CURRENT_CLASS},window.onresize=function(e){return t()},window.onscroll=function(n){var r;if(r=e.current,r.style.top=-(window.scrollY-r.DOORMAT_POS)+"px",window.scrollY>r.DOORMAT_HEIGHT+r.DOORMAT_POS){if(r.nextElementSibling)return l("next")}else if(window.scrollY<r.DOORMAT_POS&&r.previousElementSibling)return l("previous")}}}).call(this);