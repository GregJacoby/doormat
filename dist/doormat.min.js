/*
  doormat - http://jh3y.github.io/doormat
  @license MIT

  jh3y (c) 2015
 */
(function(){var e,n;n={CLASS:"doormat",PANEL_CLASS:"doormat__panel",CURRENT_CLASS:"is--current"},e=window.doormat=function(t){var r,i;if(!t)throw Error("doormat: Must define an element");return e=this,e.el=t,e.el.className+=" "+n.CLASS,e.panels=e.el.children,r=function(){var t,r,i;for(i=0,t=0;t<e.panels.length;)r=e.panels[t],r.style.minHeight=window.innerHeight+"px",-1===r.className.indexOf(n.PANEL_CLASS)&&(r.className+=" "+n.PANEL_CLASS),r.DOORMAT_HEIGHT=r.offsetHeight,r.DOORMAT_POS=i,i+=r.offsetHeight,t++;return document.body.style.height=i+"px"},r(),e.current=e.panels[0],e.current.className+=" "+n.CURRENT_CLASS,i=function(t){var r;return r=e.current,r.className=r.className.replace(n.CURRENT_CLASS,""),r.style.top="next"===t?-r.DOORMAT_HEIGHT+"px":0,e.current=r[t+"ElementSibling"],e.current.className+=" "+n.CURRENT_CLASS},window.onresize=function(e){return r()},window.onscroll=function(n){var t,r;if(t=e.current,r=window.scrollY||window.pageYOffset,t.style.top=-(r-t.DOORMAT_POS)+"px",r>t.DOORMAT_HEIGHT+t.DOORMAT_POS){if(t.nextElementSibling)return i("next")}else if(r<t.DOORMAT_POS&&t.previousElementSibling)return i("previous")}}}).call(this);